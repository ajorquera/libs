(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react"),require("firebase/firestore")):typeof define=="function"&&define.amd?define(["exports","react","firebase/firestore"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.hooks={},s.react,s["firebase/firestore"]))})(this,function(s,e,b){"use strict";function m(i,{inmediate:f}={inmediate:!1}){const[l,n]=e.useState(null),[a,u]=e.useState(null),[d,r]=e.useState(!1),o=e.useRef(!0);e.useEffect(()=>()=>{o.current=!1},[]);const t=e.useCallback(async(...c)=>{o.current&&(r(!0),u(null),n(null),i(...c).then(S=>n(S)).catch(S=>u(S)).finally(()=>r(!1)))},[i]);return e.useEffect(()=>{f&&t()},[f,t]),{data:l,error:a,loading:d,execute:t}}function g(i,f={disabled:!1}){const[l,n]=e.useState(null),[a,u]=e.useState(!1),[d,r]=e.useState(null);return e.useEffect(()=>{if(!f.disabled){u(!0);const o=b.onSnapshot(i,t=>{if(t instanceof b.DocumentSnapshot)t.exists()&&n(null),n(t.data());else if(t.empty)n([]);else{const c=t.docs.map(y=>y.data());n(c)}u(!1)},t=>{r(t),u(!1)});return()=>o()}},[JSON.stringify(i),f.disabled]),{data:l,loading:a,error:d}}s.useAsync=m,s.useFirequery=g,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
