(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["react/jsx-runtime","react"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.form=s(e["react/jsx-runtime"],e.react))})(this,function(e,s){"use strict";const u=()=>e.jsx("span",{children:"Text"}),a=({children:t,...n})=>e.jsx("button",{...n,children:t}),d=(t,n)=>t.reduce((r,o)=>(r[o.name]=n,r),{}),f=t=>async(n,r)=>{const o=Object.fromEntries(r.entries());t(o)};return({onSubmit:t,error:n,fields:r,componentMap:o})=>{const[m,p,l]=s.useActionState(f(t),d(r,"")),i=n||Object.values(m).pop();return e.jsxs("form",{action:p,children:[r.map((c,x)=>{const h=o[c.type]??o.default;return e.jsx(h,{label:c.label,...c.options},x)}),i&&e.jsx(u,{children:i}),e.jsx(a,{type:"submit",children:l?"Loading...":"Submit"})]})}});
